<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="keywords" content="Code, Future, HTML, CSS, JavaScript, IBM, CIC" />
    <meta name="description" content="Code the Future free HTML/CSS coding bootcamp"  />
    <meta name="author" content="Sarah Neenan" />
    <title>Code the Future</title>
    <link rel="stylesheet" href="../styles/1on1.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"  />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
    <script type="text/javascript" src="./js/app.js"></script>
    <!-- <script  src="./js/imports.js"></script> -->
    <script type="module" src="./js/firebase.js"></script>
  </head>

<body>
  <div class="page-content OneToOne">
    
    <nav class="navbar navbar-expand-lg bg-light">
      <a href="#main" class="skip-to-main-content-link">Skip to main content</a>
      <div class="container-fluid g-0">
        <a onclick="createPath('index.html')" class="navbar-brand" href="#" style="
              border-right: 2px solid #d9437a;
              padding-right: 10px;
              color: #1d0c59;
            "
          >
            <img src="../images/logo.png" height="60px" alt="CTF" />
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-between"
            id="navbarNavAltMarkup"
          >
            <div class="navbar-nav nav-justified">
              <a
                class="nav-link"
                aria-current="page"
                href="#"
                onclick="createPath('index.html')"
                title="About CTF"
                >About CTF</a
              >
              <a
                class="nav-link"
                aria-current="page"
                href="#"
                onclick="createPath('pages/meetTheTutors.html')"
                title="Meet the Tutors"
                >Meet the Tutors</a
              >
              <a
                class="nav-link active-top-nav"
                aria-current="page"
                href="#"
                onclick="createPath('pages/1on1.html')"
                title="Schedule a 1:1"
                >Schedule a 1:1</a
              >
              <a
                class="nav-link"
                href="#"
                onclick="createPath('pages/jobs.html')"
                title="obs at CIC"
                >Jobs at CIC</a
              >
              <a
                class="nav-link"
                href="#"
                onclick="createPath('pages/courseCatalog.html')"
                title="Course Catalog"
                >Course Catalog</a
              >
              <a
                class="nav-link"
                id="sessionsLink"
                href="#"
                onclick="createPath('pages/sessions.html')"
                title="Sessions"
                >Sessions</a
              >
            </div>
            <div class="d-flex align-items-center">
              <button type="button" onclick="createPath('pages/login.html')" class="loginBtn me-3 button-generic primary"title="Login">Login</button>
              <div class="d-flex align-items-center">
                <!-- Logged in Avatar -->
                <div>
                  <p class="my-auto" id="profileName"></p>
                </div>
                <div class="profileBtn dropdown px-3">
                  <a
                    class="btn dropdown-toggle"
                    href="#"
                    role="button"
                    id="dropdownMenuLink"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <img
                      src="https://mdbcdn.b-cdn.net/img/new/avatars/2.webp"
                      class="rounded-circle"
                      height="25"
                      alt="Black and White Portrait of a Man"
                      loading="lazy"
                    />
                  </a>
                <ul class="dropdown-menu  dropdown-menu-end" aria-labelledby=" dropdownMenuLink">
                  <li><a class="dropdown-item" href="#" onclick="createPath('pages/profile.html')" title="My profile">My profile</a></li>
                  <li><a class="dropdown-item" href="#" onclick="createPath('pages/cohort.html')" title="View cohort">View cohort</a></li>
                  <li><a class="dropdown-item" href="#" onclick="logUserOut()" title="Logout">Logout</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row flex-nowrap page-content">
        <main id="main" class="col py-3">

          <div class="container">
            <h1 class="h1">Schedule a 1:1</h1>
            <h2 class="h4">Choose a Tutor to Book 1:1 Session with</h2>

            <p>These sessions can be used to go back over session material, catch up if you missed a session, debug issues in your code, ask for support, or have a 1:1 conversation about life in Tech.</p>

            <section style="margin-top:3rem;">
              <h3 class="h5">Select a Tutor</h3>
              <div id="scrollbox" style="overflow-y: auto;" class="tutor-selector">
               
                <div class="tutor-tile selected">
                  <img src="../images/tutorAvatars/sarah.png" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Saran Neenan</p>
                </div>
 
                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/Jacob.jpg" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Jacob Boardman</p>
                </div>

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/remya.jpeg" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Remya Muraleedharan</p>
                </div>

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/jj.png" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Jacqueline Jones</p>
                </div>

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/haseeb.png" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Haseeb Jabbar</p>
                </div>

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/kristel.png" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Kristel Caisip</p>
                </div>

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/kadijah.jpg" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Kadijah Allarakhiya</p>
                </div> 

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/doaa.jpeg" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Doaa Radwan</p>
                </div>

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/bells.jpg" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Obelema Wodike</p>
                </div>

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/amber.jpg" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Amber Idumwonyi</p>
                </div>

                <div class="tutor-tile">
                  <img src="../images/tutorAvatars/MichaelWeller.png" height="70" width="70"
                    style="border-radius: 100%; object-fit: cover;" />
                  <p style="max-width: 80px; text-align: center; margin: 0;">Michael Weller</p>
                </div>
               
              </div>
            </section>

            <section style="margin-top:3rem;">
              <h3 class="h5">Select a Session</h3>

              <div class="calendar-selector">
                <table>
                  <thead>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Timezone</th>
                    <th></th>
                  </thead>
                  <tr>
                    <td>Thu, 14 Mar 2024</td>
                    <td>10:00 AM - 10:30 PM</td>
                    <td>America/Sao Paulo</td>
                    <td style="padding-top: 0; padding-bottom: 0;"><button class="button-generic secondary" title="Book 1:1 Session">Book 1:1 Session</button></td>
                  </tr>
                  <tr>
                    <td>Thu, 14 Mar 2024</td>
                    <td>10:00 AM - 10:30 PM</td>
                    <td>America/Sao Paulo</td>
                    <td style="padding-top: 0; padding-bottom: 0;"><button class="button-generic secondary" title="Book 1:1 Session">Book 1:1 Session</button></td>
                  </tr>
                  <tr>
                    <td>Thu, 14 Mar 2024</td>
                    <td>10:00 AM - 10:30 PM</td>
                    <td>America/Sao Paulo</td>
                    <td style="padding-top: 0; padding-bottom: 0;"><button class="button-generic secondary" title="Book 1:1 Session">Book 1:1 Session</button></td>
                  </tr>
                  <tr>
                    <td>Thu, 14 Mar 2024</td>
                    <td>10:00 AM - 10:30 PM</td>
                    <td>America/Sao Paulo</td>
                    <td style="padding-top: 0; padding-bottom: 0;"><button class="button-generic secondary" title="Book 1:1 Session">Book 1:1 Session</button></td>
                  </tr>
                </table>
              </div>
            </section>

            <hr class="hr" style="margin-top:3rem;" />

            <section style="margin-top:3rem;">
                <!-- <p id="show-more">Show more
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="11" viewBox="0 0 18 11" fill="none">
                    <path d="M1 1.5L9 9.5L17 1.5" stroke="#31238C" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </p> -->
                <h3 class="h5">Request an alternative Session</h3>

                <div id="alt-session">
                  <div>
                    <input type="date" />
                    <input type="time" />
                    <select>
                      <option>15 Mins</option>
                      <option>30 Mins</option>
                      <option>1 Hour</option>
                    </select>
                    <button class="button-generic tertiary" title="Request Session">Request Session</button>
                  </div>
                </div>
            </section>

          </div>
        </main>
      </div>  
    </div>
  </div>




    <script type="module">
    import { fbAuth, fbDB } from "./js/firebase.js"
    window.fbDB = fbDB
    </script>
    <script type="text/javascript">
      const stylesheet = document.createElement("link");
      stylesheet.rel = "stylesheet";
      stylesheet.type = "text/css";
      stylesheet.href = getPath() + "styles/mainStyle.css";
      document.head.appendChild(stylesheet);

      window.onload = (event) => {
        auth(
          document.querySelector(".loginBtn"),
          document.querySelector(".profileBtn"),
          document.querySelector("#sessionsLink")
        );
        getTutors();
      };

      function createPath(options) {
        window.location = getPath() + options;
        return false;
      }

      // function getTutors() {
      //   const dbRef = fbDB.ref("tutors");
      //   console.log(dbRef)
      //   dbRef.on('value', (snapshot) => {
      //     console.log("hello")
      //     const data = snapshot.val();
      //     console.log(data)
      //   });
      // }

      function getTutors() {
        console.log("getTutors function");
        const dbRef = window.fbDB.ref("tutors");
        console.log(dbRef);
        dbRef.once(
          "value",
          (snapshot) => {
            console.log("dbRef data: ");
            const data = snapshot.val();
            console.log(data);

            // Get the scrollbox element
            const scrollbox = document.getElementById("scrollbox");

            // Iterate over the tutors and create the HTML elements
            for (const tutorId in data) {
              const tutor = data[tutorId];
              const tutorTile = document.createElement("div");
              tutorTile.classList.add("tutor-tile");

              const tutorImage = document.createElement("img");
              tutorImage.src = `../images/tutorAvatars/${tutor.avatar}`;
              tutorImage.height = 70;
              tutorImage.width = 70;
              tutorImage.style.borderRadius = "100%";
              tutorImage.style.objectFit = "cover";
              tutorImage.loading = "lazy";

              const tutorName = document.createElement("p");
              tutorName.textContent = tutor.displayName;
              tutorName.style.maxWidth = "80px";
              tutorName.style.textAlign = "center";
              tutorName.style.margin = "0";

              tutorTile.appendChild(tutorImage);
              tutorTile.appendChild(tutorName);
              scrollbox.appendChild(tutorTile);
            }
          },
          (error) => {
            console.error("Error getting tutors:", error);
          }
        );
      }

      function logUserOut(event) {
        const fbAuth = firebase.auth();
        logout(fbAuth);
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous" ></script>
  </body>
</html>