<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Code, Future, HTML, CSS, JavaScript, IBM, CIC" name="keywords">
    <meta content="Code the Future free HTML/CSS coding bootcamp" name="description" />
    <meta content="Sarah Neenan" name="author" />
    <title>Code the Future</title>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" rel="stylesheet" />
    <script crossorigin="anonymous"
        integrity="sha512-LhccdVNGe2QMEfI3x4DVV3ckMRe36TfydKss6mJpdHjNFiV07dFpS2xzeZedptKZrwxfICJpez09iNioiSZ3hA=="
        referrerpolicy="no-referrer"
        src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <script defer="" src="../../../js/sidenav.js" type="text/javascript"></script>
    <script src="../../../js/app.js" type="text/javascript"></script>
    <script src="../../../js/imports.js"></script>

    </meta>
</head>

<body>
    <div class="page-body">
        <nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
                <button class="navbar-brand" href="#" onclick="createPath('index.html')" style="
                border: none;
                border-right: 2px solid #d9437a;
                padding-right: 10px;
                color: #1d0c59;
                background-color: transparent;
              ">
                    <img height="60px" src="../../../../images/logo.png" />

                    <button aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"
                        class="navbar-toggler" data-bs-target="#navbarNavAltMarkup" data-bs-toggle="collapse"
                        type="button">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-between" id="navbarNavAltMarkup">
                        <div class="navbar-nav nav-justified">
                            <button aria-current="page" class="nav-link border-end border-dark" name="session1-nav"
                                onclick="createPath('pages/sessions/session1/introduction.html')">
                                Session 1
                                <span class="box tooltip-text hidden" id="session1-tooltip">Session Opens Soon</span>
                            </button>
                            <button aria-current="page" class="nav-link border-end border-dark" name="session2-nav"
                                onclick="createPath('pages/sessions/session2/introduction.html')">
                                Session 2
                                <span class="box tooltip-text hidden" id="session2-tooltip">Session Opens Soon</span>
                            </button>
                            <button aria-current="page" class="nav-link border-end border-dark" name="session3-nav"
                                onclick="createPath('pages/sessions/session3/introduction.html')">
                                Session 3
                                <span class="box tooltip-text hidden" id="session3-tooltip">Session Opens Soon</span>
                            </button>
                            <button aria-current="page" class="nav-link border-end border-dark" name="session4-nav"
                                onclick="createPath('pages/sessions/session4/introduction.html')">
                                Session 4
                                <span class="box tooltip-text hidden" id="session4-tooltip">Session Opens Soon</span>
                            </button>
                            <button aria-current="page" class="nav-link border-end border-dark" name="session5-nav"
                                onclick="createPath('pages/sessions/session5/introduction.html')">
                                Session 5
                                <span class="box tooltip-text hidden" id="session5-tooltip">Session Opens Soon</span>
                            </button>
                            <button aria-current="page" class="nav-link border-end border-dark" name="showcase-nav"
                                onclick="createPath('pages/sessions/session6/introduction.html')">
                                Showcase
                                <span class="box tooltip-text hidden" id="showcase-tooltip">Session Opens Soon</span>
                            </button>
                        </div>
                        <div class="d-flex align-items-center" div id="profile-button">
                            <!-- Logged in Avatar -->
                            <div>
                                <p class=" my-auto" id="profileName">
                                </p>
                            </div>
                            <div class="profileBtn dropdown px-3">
                                <a aria-expanded="false" class="btn dropdown-toggle" data-bs-toggle="dropdown" href="#"
                                    id="dropdownMenuLink" role="button">
                                    <img id="profile-pic-avatar" class="rounded-circle" height="25"
                                        alt="Default avatar" loading="lazy" />
                                </a>
                                <ul aria-labelledby=" dropdownMenuLink" class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="#" onclick="createPath('pages/profile.html')">My
                                            Profile</a></li>
                                    <li id="tutor-menu-item" style="display: none;"><a class="dropdown-item" href="#" onclick="createPath('pages/tutorAvailability.html')">Tutor Availability</a></li>
                <li><a class="dropdown-item" href="#" onclick="logUserOut()">Log out</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </button>
            </div>
        </nav>
        <div class="container-fluid">
            <div class="row flex-nowrap page-content">
                <div class="col py-3">
                    <div id="session-banner"></div>
                    <div class="media-container d-flex">
                        <div class="embed-responsive embed-responsive-16by9 text-center flex-grow-1">
                            <video class="embed-responsive-item mx-a" controls="" id="session-video" width="90%">
                                <source type="video/mp4" />
                            </video>
                        </div>
                        <div class="text-end">
                            <img alt="image" class="avatar-sm rounded-circle" height="100" id="tutor-avatar"
                                width="100" />
                            <div class="tutor-name">Haseeb Jabbar <br />
                                Full Stack Engineer</div>
                        </div>
                    </div>
                    <div class="embed-container">
                        <iframe id="github-iframe" name="github-iframe" src=""></iframe>
                        <div id="session-navigation"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        var converter = new showdown.Converter();
        fetch('https://api.github.com/repos/sarah-cic-uk/Code-the-Future/contents/session-1/intro_to_github.md')
            .then(function (response) {
                return response.json();
            }).then(function (data) {
                var iframe = document.getElementById('github-iframe');
                const test = converter.makeHtml(atob(data['content']))
                const encrypted = encodeURIComponent(data['content'])
                iframe.srcdoc =
                    '<link rel="stylesheet" type="text/css" href="../../../../styles/iframeStyle.css"/>' +
                    test;
            });
    </script>
    <script type="text/javascript">
        const stylesheet = document.createElement('link');
        stylesheet.rel = 'stylesheet';
        stylesheet.type = 'text/css';
        stylesheet.href = getPath() + 'styles/mainStyle.css';
        document.head.appendChild(stylesheet);

        window.onload = (event) => {
            checkReleaseDates(window.fbDB);
            auth(null, document.querySelector(".profileBtn"), document.querySelector("#sessionsLink"))


            const pathReference = window.fbStorage.ref('media/introGit.mp4');
            const el = document.getElementById('session-video');
            fetchMedia(pathReference, el)

            document.getElementById('tutor-avatar').src = getPath() + 'images/tutorAvatars/haseeb.png';
            updateSideNav()
        }

        function createPath(options) {
            window.location = getPath() + options;
            return false;
        }

        function logUserOut(event) {
            logout(window.fbAuth)
        }
    </script>
    <script crossorigin="anonymous" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <script type="module">
        import { fbAuth, fbStorage, fbDB } from "../../../js/firebase.js";
        window.fbAuth = fbAuth;
        window.fbDB = fbDB;
        window.fbStorage = fbStorage;
    </script>
    <script defer="" src="../../../js/sessionNavigation.js"></script>
</body>

</html>